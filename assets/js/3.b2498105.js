(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{365:function(e,n,s){e.exports=s.p+"assets/img/setting_admin.fc3bd0ff.jpeg"},366:function(e,n,s){e.exports=s.p+"assets/img/pluging1.baa38808.png"},367:function(e,n,s){e.exports=s.p+"assets/img/pluging2.707c7086.png"},368:function(e,n,s){e.exports=s.p+"assets/img/jdk.122956e2.jpeg"},369:function(e,n,s){e.exports=s.p+"assets/img/gradle.cc7b2643.jpeg"},370:function(e,n,s){e.exports=s.p+"assets/img/nodeJs.6e8861fc.jpeg"},380:function(e,n,s){"use strict";s.r(n);var a=s(45),t=Object(a.a)({},(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"不連網安裝-docker-jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不連網安裝-docker-jenkins"}},[e._v("#")]),e._v(" 不連網安裝 docker Jenkins")]),e._v(" "),a("p",[e._v("＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿")]),e._v(" "),a("h3",{attrs:{id:"image-jenkinsci-blueocean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#image-jenkinsci-blueocean"}},[e._v("#")]),e._v(" Image :jenkinsci/blueocean")]),e._v(" "),a("h2",{attrs:{id:"前置作業-準備-docker映像檔-跟-jenkins套件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置作業-準備-docker映像檔-跟-jenkins套件"}},[e._v("#")]),e._v(" 前置作業 - 準備 "),a("strong",[e._v("docker映像檔")]),e._v(" 跟 "),a("strong",[e._v("jenkins套件")])]),e._v(" "),a("h3",{attrs:{id:"docker-image-映像檔"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-image-映像檔"}},[e._v("#")]),e._v(" docker image 映像檔")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("須先從可以連網的機器將 jenkins image 抓下來")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ docker pull jenkinsci/blueocean \n")])])])]),e._v(" "),a("li",[a("p",[e._v("需將 docker image 檔案 export 出去, 才可裝到無法聯網的機器")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ docker save -o jenkins.tar jenkinsci/blueocean \n")])])])])]),e._v(" "),a("h3",{attrs:{id:"jenkins-套件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-套件"}},[e._v("#")]),e._v(" jenkins 套件")]),e._v(" "),a("ol",[a("li",[e._v("連進 jenkins 套件網址: "),a("a",{attrs:{href:"https://updates.jenkins-ci.org/download/plugins/",target:"_blank",rel:"noopener noreferrer"}},[e._v("套件網站"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("找尋以下套件\n"),a("ul",[a("li",[e._v("openJDK-native-plugin")]),e._v(" "),a("li",[e._v("NodeJS")]),e._v(" "),a("li",[e._v("Publish Over SSH")])])])]),e._v(" "),a("h2",{attrs:{id:"安裝jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝jenkins"}},[e._v("#")]),e._v(" 安裝Jenkins")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("從檔案回復Image")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ docker load jenkins.tar\n")])])])]),e._v(" "),a("li",[a("p",[e._v("執行Docker Jenkins")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ docker run \\ \n  -d \\\n  -u root \\\n  -p 8080:8080 \\\n  -p 50000:50000 \\\n  -v jenkins-data:/var/jenkins_home \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  -e JAVA_OPTS=-Duser.timezone=Asia/Taipei \\\n  --name jenkins \\\n  jenkinsci/blueocean\n")])])])]),e._v(" "),a("li",[a("p",[e._v("執行完後可以看到 Jenkins 已啟動")])]),e._v(" "),a("li",[a("p",[e._v("連至 localhost:8080 顯示需要輸入密碼解鎖")])]),e._v(" "),a("li",[a("p",[e._v("進入 Docker container，查看密碼")]),e._v(" "),a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ docker exec -it jenkins bash \n$ cat /var/jenkins_home/secrets/initialAdminPassword\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Customize Jenkins")]),e._v(" "),a("ul",[a("li",[e._v("選擇 Install suggested plugins")])])]),e._v(" "),a("li",[a("p",[e._v("設定帳號\n"),a("img",{attrs:{src:s(365),alt:"Setting admin"}})])]),e._v(" "),a("li",[a("p",[e._v("安裝Jenkins 外掛程式, 點選左邊側欄 管理 Jenkins --\x3e 管理外掛程式")]),e._v(" "),a("p",[a("img",{attrs:{src:s(366),alt:"Setting admin"}})])]),e._v(" "),a("li",[a("p",[e._v("點選進階 --\x3e 選擇檔案 --\x3e 按『上傳』, 上傳先前準備的 jenkins 套件")]),e._v(" "),a("p",[a("img",{attrs:{src:s(367),alt:"Setting admin"}})])]),e._v(" "),a("li",[a("p",[e._v("設定 Global Tool Configuration")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("新增JDK")]),e._v(" "),a("p",[a("img",{attrs:{src:s(368),alt:"Setting admin"}})])]),e._v(" "),a("li",[a("p",[e._v("新增Gradle")]),e._v(" "),a("p",[a("img",{attrs:{src:s(369),alt:"Setting admin"}})])]),e._v(" "),a("li",[a("p",[e._v("新增NodeJs")]),e._v(" "),a("p",[a("img",{attrs:{src:s(370),alt:"Setting admin"}})])])])])])])}),[],!1,null,null,null);n.default=t.exports}}]);